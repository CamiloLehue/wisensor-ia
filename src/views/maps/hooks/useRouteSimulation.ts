import { useEffect, useState } from "react";
import { LatLngExpression } from "leaflet";

const route: LatLngExpression[] = [
    [-43.137355, -73.643163],
    [-43.137248, -73.643457],
    [-43.130023, -73.643429],
    [-43.129936, -73.643298],
    [-43.129865, -73.643153],
    [-43.129824, -73.642996],
    [-43.12962, -73.643237],
    [-43.12938, -73.643405],
    [-43.128647, -73.643404],
    [-43.127819, -73.643398],
    [-43.127479, -73.643384],
    [-43.12727, -73.643388],
    [-43.125706, -73.643354],
    [-43.125518, -73.643353],
    [-43.124939, -73.643349],
    [-43.124326, -73.643257],
    [-43.123897, -73.643166],
    [-43.123296, -73.642958],
    [-43.123219, -73.642924],
    [-43.123018, -73.642828],
    [-43.122423, -73.642469],
    [-43.121862, -73.642019],
    [-43.121511, -73.64167],
    [-43.121024, -73.64108],
    [-43.120632, -73.640578],
    [-43.120086, -73.639883],
    [-43.11994, -73.639697],
    [-43.119625, -73.639382],
    [-43.119381, -73.639077],
    [-43.118997, -73.638458],
    [-43.118781, -73.638029],
    [-43.118178, -73.636681],
    [-43.118134, -73.636583],
    [-43.118038, -73.636369],
    [-43.117668, -73.635592],
    [-43.117414, -73.63505],
    [-43.117316, -73.63483],
    [-43.116544, -73.63315],
    [-43.116488, -73.632864],
    [-43.116489, -73.632528],
    [-43.11649, -73.632012],
    [-43.11649, -73.63171],
    [-43.11649, -73.631104],
    [-43.116491, -73.630613],
    [-43.116493, -73.62913],
    [-43.116508, -73.628862],
    [-43.116556, -73.62849],
    [-43.116681, -73.627892],
    [-43.116809, -73.627296],
    [-43.116938, -73.626706],
    [-43.117163, -73.625597],
    [-43.117173, -73.625455],
    [-43.117275, -73.623683],
    [-43.117312, -73.623565],
    [-43.11738, -73.622119],
    [-43.11791, -73.622153],
    [-43.118951, -73.62222],
    [-43.119173, -73.621058],
    [-43.119206, -73.619737],
    [-43.119205, -73.619633],
    [-43.119237, -73.618219],
    [-43.119281, -73.616954],
    [-43.119305, -73.614521],
    [-43.119249, -73.613315],
    [-43.119199, -73.612062],
    [-43.119126, -73.610612],
    [-43.119076, -73.609591],
    [-43.117839, -73.609575],
    [-43.11743, -73.60954],
    [-43.117311, -73.609512],
    [-43.117129, -73.609405],
    [-43.116844, -73.609169],
    [-43.115808, -73.608232],
    [-43.115706, -73.608093],
    [-43.115614, -73.607918],
    [-43.115485, -73.607625],
    [-43.115215, -73.606888],
    [-43.115165, -73.606833],
    [-43.115104, -73.606807],
    [-43.115034, -73.606821],
    [-43.114744, -73.60701],
    [-43.114504, -73.607173],
    [-43.114364, -73.607237],
    [-43.114218, -73.607274],
    [-43.113646, -73.607304],
    [-43.113265, -73.607361],
    [-43.112833, -73.607425],
    [-43.112533, -73.607457],
    [-43.112222, -73.60749],
    [-43.111953, -73.607491],
    [-43.111768, -73.607456],
    [-43.110914, -73.607257],
    [-43.109732, -73.607003],
    [-43.109158, -73.60692],
    [-43.109068, -73.606848],
    [-43.109017, -73.606731],
    [-43.108647, -73.606863],
    [-43.108114, -73.60706],
    [-43.108066, -73.607077],
    [-43.107411, -73.607339],
    [-43.106918, -73.607567],
    [-43.10671, -73.607696],
    [-43.106452, -73.607894],
    [-43.10561, -73.608586],
    [-43.10492, -73.609175],
    [-43.104546, -73.609445],
    [-43.104179, -73.609612],
    [-43.103404, -73.609805],
    [-43.102945, -73.60992],
    [-43.102757, -73.609967],
    [-43.102428, -73.610049],
    [-43.101611, -73.610253],
    [-43.101035, -73.610435],
    [-43.100066, -73.61074],
    [-43.099734, -73.610845],
    [-43.097567, -73.611556],
    [-43.096653, -73.611861],
    [-43.096075, -73.612006],
    [-43.095441, -73.612073],
    [-43.095017, -73.612063],
    [-43.094646, -73.612019],
    [-43.094478, -73.611993],
    [-43.093671, -73.611881],
    [-43.093383, -73.611846],
    [-43.093023, -73.61188],
    [-43.092677, -73.612018],
    [-43.092455, -73.612169],
    [-43.092351, -73.612261],
    [-43.092159, -73.612475],
    [-43.091992, -73.612725],
    [-43.090863, -73.614734],
    [-43.089352, -73.617445],
    [-43.089061, -73.617831],
    [-43.088881, -73.618017],
    [-43.08877, -73.618106],
    [-43.088437, -73.61832],
    [-43.087971, -73.618486],
    [-43.086935, -73.618643],
    [-43.086708, -73.618678],
    [-43.086291, -73.61874],
    [-43.085453, -73.618873],
    [-43.08531, -73.618898],
    [-43.084525, -73.619026],
    [-43.084114, -73.619193],
    [-43.083854, -73.619353],
    [-43.083607, -73.619549],
    [-43.083288, -73.619883],
    [-43.083016, -73.620265],
    [-43.082842, -73.62059],
    [-43.082567, -73.621294],
    [-43.082476, -73.621635],
    [-43.082409, -73.622033],
    [-43.08238, -73.622439],
    [-43.082385, -73.624033],
    [-43.08233, -73.624671],
    [-43.082246, -73.625159],
    [-43.082083, -73.625797],
    [-43.081858, -73.626415],
    [-43.081577, -73.626989],
    [-43.081311, -73.627415],
    [-43.081133, -73.627657],
    [-43.080724, -73.628213],
    [-43.079923, -73.629301],
    [-43.079274, -73.630183],
    [-43.078817, -73.630794],
    [-43.078406, -73.631342],
    [-43.077917, -73.631995],
    [-43.077352, -73.63272],
    [-43.07562, -73.635048],
    [-43.075515, -73.63519],
    [-43.075311, -73.635414],
    [-43.075089, -73.635604],
];

export const useRouteSimulation = () => {
    const [markerIndex, setMarkerIndex] = useState(0);
    const [load, setLoad] = useState(false);

    useEffect(() => {
        const interval = setInterval(() => {
            setMarkerIndex((prev) => (prev < route.length - 1 ? prev + 1 : prev));
            setLoad(true);
        }, 5000 );
        return () => clearInterval(interval);
    }, []);

    return { route, markerIndex, load };
};